import { ComponentDemo } from '../ComponentDemo';
import Usage from './usage/SidebarCommentsUsage.tsx?raw';
import Positioning from './usage/SidebarCommentsPositioning.tsx?raw';
import ToggleSidebarCommentsButtonUsage from './usage/ToggleSidebarCommentsButtonUsage.tsx?raw';
import { renderCodeSnippet } from '../CodeEditor';
import useSidebarCommentsButtonUsage from './usage/useSidebarCommentsButtonUsage.tsx?raw';
import { ToggleSidebarCommentsButton, SidebarComments } from '@collabkit/react';
import { AdvancedProps, StyleTable } from '../advanced/AdvancedCommon';

# SidebarComments

## Comments in a sidebar. Great for adding commenting throughout your app accessible in one easy place.

<ComponentDemo
  style={{
    padding: 0,
    justifyContent: 'flex-end',
    height: '66vh',
    maxHeight: '640px',
    display: 'flex',
    flex: 'unset',
    position: 'relative',
    alignItems: 'flex-start',
  }}
>
  <SidebarComments
    defaultOpen
    style={{ height: '100%', position: 'absolute', top: 0, right: 0, bottom: 0 }}
  />
</ComponentDemo>

### Usage

Sidebar comments are a great way to add commenting to every page or view in your app with just a few lines of code. Comments live in the Sidebar and are accessible from anywhere in your app.

{renderCodeSnippet(Usage)}

### Positioning

The sidebar is designed to be positioned on the right of the screen, and any content should be pushed to the left when the sidebar is open. This makes it easy to leave comments on any part of your app.

To adjust the position of the sidebar, or it's height you can use the `style` or `className` prop.

{renderCodeSnippet(Positioning, [[0, 2]])}

### Showing and hiding the sidebar

You can show and hide the sidebar in two ways. Either by including the `<ToggleSidebarCommentsButton />` component, or by using the `useSidebarCommentsButton` hook. Use the hook if you have a custom button component, or need full control over how the button renders.

#### With a button

<ComponentDemo
  hideThemeEditorButton={true}
  style={{
    padding: 0,
    display: 'flex',
    height: '60px',
    borderRadius: '8px',
    justifyContent: 'center',
    flex: 'unset',
    position: 'relative',
    alignItems: 'center',
  }}
>
  <div style={{ position: 'absolute', top: 12, left: 12 }}>
    <ToggleSidebarCommentsButton />
  </div>
</ComponentDemo>

Include this component to show and hide the sidebar. It shows a 'red' dot when there are unread comments.

You can pass any props you would normally pass to a React button component.

{renderCodeSnippet(ToggleSidebarCommentsButtonUsage)}

#### With a hook

If you need full control over how the button renders, or would like to integrate it with your product's native button component, you can use our hook.

{renderCodeSnippet(useSidebarCommentsButtonUsage)}

### Styling

You can customise the position, width, and height of `<SidebarComments />` using the `style` or `className` prop.

To customise it's contents pass the `theme` prop to the `<CollabKitProvider />` component.

#### Sidebar

Here are the variables you can control in the `theme` prop that relate directly to `Sidebar`.

<StyleTable
  styles={[
    ['sidebar.background', '--collabkit-sidebar-background', 'color.background'],
    ['sidebar.boxShadow', '--collabkit-sidebar-box-shadow', 'none'],
    [
      'sidebar.borderLeft',
      '--collabkit-sidebar-border-left',
      '1px solid var(--collabkit-color-border)',
    ],
  ]}
/>

#### SidebarTitle

<StyleTable styles={[['sidebar.title.fontSize', '--collabkit-sidebar-title-font-size', 'none']]} />
