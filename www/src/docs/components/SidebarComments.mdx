import { Demo } from '../Doc';
import Usage from './usage/SidebarCommentsUsage.tsx?raw';
import Positioning from './usage/SidebarCommentsPositioning.tsx?raw';
import ToggleSidebarCommentsButtonUsage from './usage/ToggleSidebarCommentsButtonUsage.tsx?raw';
import { renderCodeSnippet } from '../CodeEditor';
import useSidebarCommentsButtonUsage from './usage/useSidebarCommentsButtonUsage.tsx?raw';
import { ToggleSidebarCommentsButton, SidebarComments } from '@collabkit/react';
import { AdvancedProps, StyleTable } from '../advanced/AdvancedCommon';

# SidebarComments

## Comments in a sidebar. Great for adding commenting throughout your app accessible in one easy place.

<Demo
  style={{
    padding: 0,
    justifyContent: 'flex-end',
    height: '66vh',
    maxHeight: '640px',
    display: 'flex',
    flex: 'unset',
    position: 'relative',
    alignItems: 'flex-start',
}}>

  <>
    <div style={{ position: 'absolute', top: 12, left: 12 }}>
      <ToggleSidebarCommentsButton />
    </div>
    <SidebarComments style={{ height: '100%' }} />
  </>
</Demo>

### Usage

Sidebar comments are a great way to add commenting to every page or view in your app with just a few lines of code. Comments live in the Sidebar and are accessible from anywhere in your app.

{renderCodeSnippet(Usage)}

### Positioning

The sidebar is designed to be positioned on the right of the screen, and any content should be pushed to the left when the sidebar is open. This makes it easy to leave comments on any part of your app.

To adjust the position of the sidebar, or it's height you can use the `style` or `className` prop.

{renderCodeSnippet(Positioning, [[0, 2]])}

### Showing and hiding the sidebar

#### With a button

<Demo
  style={{
    padding: 0,
    display: 'flex',
    height: '60px',
    borderRadius: '8px',
    justifyContent: 'center',
    flex: 'unset',
    position: 'relative',
    alignItems: 'center',
  }}
>
  <div style={{ position: 'absolute', top: 12, left: 12 }}>
    <ToggleSidebarCommentsButton />
  </div>
</Demo>

Include this component to show and hide the sidebar. It shows a 'red' dot when there are unread comments.

You can pass any props you would normally pass to a React button component.

{renderCodeSnippet(ToggleSidebarCommentsButtonUsage)}

#### With a hook

If you need full control over how the button renders, or would like to integrate it with your product's native button component, you can use our hook.

{renderCodeSnippet(useSidebarCommentsButtonUsage)}

### Styling

Customise the following variables in your theme to style the `SidebarComments` component.

#### Sidebar

<StyleTable
  styles={[
    ['sidebar.background', '--sidebar-background', 'color.background'],
    ['sidebar.boxShadow', '--sidebar-box-shadow', 'none'],
    ['sidebar.borderLeft', '--sidebar-border-left', '1px solid ${vars.color.border}'],
  ]}
/>

#### SidebarTitle

<StyleTable styles={[['sidebar.title.fontSize', '--sidebar-title-font-size', 'none']]} />
