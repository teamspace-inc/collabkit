import Usage from './usage/CommentableUsage.tsx?raw';
import { renderCodeSnippet } from '../CodeEditor';
import { AdvancedProps } from '../advanced/AdvancedCommon';
import { DocLink } from '../Doc';
import { ComponentDemo } from '../ComponentDemo';
import { PinIcon, ProfileContext } from '@collabkit/react';
import { userId } from '../../constants';
import { vars } from '../../styles/Theme.css';

# Commentable

## Enables placing comments on any React Component.

Use the Commentable component to enable your users to comment on a specific React components.

<ComponentDemo>
  <ProfileContext.Provider value={{ userId }}>
    <div
      style={{
        borderRadius: '6px',
        width: 320,
        height: 200,
        background: vars.color.bgContrastLow,
        alignItems: 'center',
        justifyContent: 'center',
        display: 'flex',
        position: 'relative',
      }}
    >
      <code style={{ position: 'absolute', top: 12, left: 12 }}>Your Component</code>
      <PinIcon />
    </div>
  </ProfileContext.Provider>
</ComponentDemo>

### Usage

Wrap components you'd like to enable comments to be placed on with a Commentable component.

The following example shows how to setup{' '} `<Commentable />` for a component in your app.

{renderCodeSnippet(Usage)}

Comments anchor to the closest Commentable ancestor when placed, this means you should wrap both containers and their children with a Commentable. This is because comments anchor to the relative x, y, position of the component they are placed on.

For example:

- for Tables, you'll need to wrap Commentable around the Table itself and each Table Cell.
- for Forms, you'll need to wrap the Form with it and also each if the fields within.
- for Lists, you'll need to wrap the List with it and also each of the items within.

### Object IDs

The `objectId` is a stable unique identifier for the component you want to enable comments on.

You'll typically want to pick an id that corresponds to the database record the component renders.

For example if you're building a CRM and have a table of customers, you might want to use the customer id as the objectId. For example if the customer id is 123, you might use `customer-123` as the objectId. And for a customers name you might use `customer-123-name`.

### Props

<AdvancedProps props={[['objectId', 'string', 'A stable unique identifier']]} />
